
@{
    ViewBag.Title = "index3";
}

<h2>测试页面2</h2>
<script src="~/Scripts/vue.min.js"></script>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<style>
    .tittle {
        font-size: 25px;
        color: orangered;
        text-align: center;
    }
</style>

<div id="vue_det1">
    <h3 class="tittle">天禅流程任务清单</h3>
    <label>任务ID:</label>
    <input type="text" id="taskId" />
    <button id="submitBtn" v-on:click="_getTaskInfo()">提交</button>
    <div>
        <table width="100%" border="1" >
            <thead>
                <tr>
                    <th>任务名称</th>
                    <th>任务描述</th>
                    <th>完成人员</th>
                    <th>迭代名称</th>
                    <th>任务估时</th>
                    <th>开始时间</th>
                    <th>结束时间</th>
                </tr>
            </thead>
                <tbody id="tableBody" style="display: none">
                    <tr>
                        <td>{{data.TaskName}}</td>
                        <td>{{data.TaskDesc}}</td>
                        <td>{{data.TaskOwnerCount}}</td>
                        <td>{{data.TaskIterationName}}</td>
                        <td>{{data.TaskEstimate}}</td>
                        <td>{{data.TaskBeginDate}}</td>
                        <td>{{data.TaskEndDate}}</td>
                    </tr>
                </tbody>
        </table>
    </div>
</div>

<script>

    var vm = new Vue({
        el: '#vue_det1',
        data: {
            data:""
        },
        methods: {
            _getTaskInfo: function () {
                var url = "@Url.Content("~/Home/GetTaskInfo?")";
                var self = this;
                $.post(url, { taskId: $("#taskId").val() }, function (data) {
                    self.data = data.data;
                });
                $("#tableBody").show();
            }
        }
    })
</script>
